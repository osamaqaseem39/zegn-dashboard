import{j as e}from"./ui-vendor-5f254887.js";import{r as c,L}from"./react-vendor-7917a9ce.js";import{t as A}from"./tokenApi-e0e806c7.js";import"./main-d9b0538d.js";import"./utils-vendor-37919bfd.js";import"./helmet-vendor-3ee5617c.js";function O(){const[j,b]=c.useState([]),[N,w]=c.useState(!0),[g,v]=c.useState(""),[m,k]=c.useState(""),[i,C]=c.useState({key:"market_cap",direction:"desc"}),[a,_]=c.useState(1),x=10;c.useEffect(()=>{S()},[]);const S=async()=>{var t,s;try{const r=await A.getTopTokens();b(r.data.items||[])}catch(r){v(((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.message)||"Failed to fetch top tokens"),console.error("Error fetching top tokens:",r)}finally{w(!1)}},f=t=>new Intl.NumberFormat("en-US",{notation:"compact",maximumFractionDigits:2}).format(t),T=t=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:6}).format(t),l=t=>{C({key:t,direction:i.key===t&&i.direction==="asc"?"desc":"asc"})},d=j.filter(t=>{var s,r;return(((s=t.name)==null?void 0:s.toLowerCase().includes(m.toLowerCase()))||((r=t.symbol)==null?void 0:r.toLowerCase().includes(m.toLowerCase())))??!1}).sort((t,s)=>t[i.key]===null?1:s[i.key]===null?-1:t[i.key]<s[i.key]?i.direction==="asc"?-1:1:t[i.key]>s[i.key]?i.direction==="asc"?1:-1:0),o=({column:t})=>e.jsx("span",{className:"ml-1 inline-block",children:i.key===t?i.direction==="asc"?"↑":"↓":"↕"}),h=a*x,y=h-x,P=d.slice(y,h),n=Math.ceil(d.length/x),p=t=>_(t),$=()=>{let s=[];return n<=5?s=Array.from({length:n},(r,u)=>u+1):a<=3?s=[1,2,3,4,"...",n]:a>=n-2?s=[1,"...",n-3,n-2,n-1,n]:s=[1,"...",a-1,a,a+1,"...",n],e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[e.jsx("button",{onClick:()=>p(a-1),disabled:a===1,className:`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium ${a===1?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"}`,children:"Previous"}),s.map((r,u)=>r==="..."?e.jsx("span",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-gray-700",children:"..."},`ellipsis-${u}`):e.jsx("button",{onClick:()=>p(r),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${a===r?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:r},r)),e.jsx("button",{onClick:()=>p(a+1),disabled:a===n,className:`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium ${a===n?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"}`,children:"Next"})]})};return N?e.jsx("div",{className:"flex justify-center items-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Top Tokens"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Top performing tokens by market cap"})]}),g&&e.jsx("div",{className:"mb-6 bg-red-50 border-l-4 border-red-500 p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"h-5 w-5 text-red-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("p",{className:"text-sm text-red-700",children:g})]})}),e.jsx("div",{className:"mb-4",children:e.jsx("input",{type:"text",placeholder:"Search tokens...",className:"w-full md:w-64 px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:m,onChange:t=>k(t.target.value)})}),e.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>l("name"),children:["Token ",e.jsx(o,{column:"name"})]}),e.jsxs("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>l("price"),children:["Price ",e.jsx(o,{column:"price"})]}),e.jsxs("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>l("price_24h_change"),children:["24h Change ",e.jsx(o,{column:"price_24h_change"})]}),e.jsxs("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>l("market_cap"),children:["Market Cap ",e.jsx(o,{column:"market_cap"})]}),e.jsxs("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>l("holder"),children:["Holders ",e.jsx(o,{column:"holder"})]}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:P.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:t.name}),e.jsx("div",{className:"text-sm text-gray-500",children:t.symbol})]})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsx("div",{className:"text-sm text-gray-900",children:t.price?`$${T(t.price)}`:"N/A"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsx("span",{className:`text-sm ${t.price_24h_change>=0?"text-green-600":"text-red-600"}`,children:t.price_24h_change!=null?`${t.price_24h_change>=0?"+":""}${t.price_24h_change.toFixed(2)}%`:"N/A"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsx("div",{className:"text-sm text-gray-900",children:t.market_cap?`$${f(t.market_cap)}`:"N/A"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsx("div",{className:"text-sm text-gray-900",children:t.holder?f(t.holder):"N/A"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsx(L,{to:`/tokens/add?address=${t.address}`,className:"inline-flex items-center px-3 py-1 border border-blue-600 text-sm font-medium rounded-md text-blue-600 hover:bg-blue-50",children:"Add Token"})})]},t.address))})]})}),e.jsx("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",e.jsx("span",{className:"font-medium",children:y+1})," to"," ",e.jsx("span",{className:"font-medium",children:Math.min(h,d.length)})," ","of ",e.jsx("span",{className:"font-medium",children:d.length})," results"]})}),e.jsx("div",{children:e.jsx($,{})})]})})]})]})}export{O as default};
//# sourceMappingURL=TopTokens-e1372c3a.js.map
