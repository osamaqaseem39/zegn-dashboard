import{j as e}from"./ui-vendor-5f254887.js";import{r as d,L}from"./react-vendor-7917a9ce.js";import{t as P}from"./tokenApi-e0e806c7.js";import"./main-d9b0538d.js";import"./utils-vendor-37919bfd.js";import"./helmet-vendor-3ee5617c.js";function z(){const[b,y]=d.useState([]),[j,N]=d.useState(!0),[p,v]=d.useState(""),[c,w]=d.useState(""),[l,k]=d.useState({key:"name",direction:"asc"}),[r,m]=d.useState(1),x=10;d.useEffect(()=>{C()},[]);const C=async()=>{var s,a;try{const t=await P.getTrendingTokens();y(t.data||[])}catch(t){v(((a=(s=t.response)==null?void 0:s.data)==null?void 0:a.message)||"Failed to fetch trending tokens"),console.error("Error fetching trending tokens:",t)}finally{N(!1)}},h=s=>{k({key:s,direction:l.key===s&&l.direction==="asc"?"desc":"asc"})},o=b.filter(s=>{var a,t;return(((a=s.name)==null?void 0:a.toLowerCase().includes(c.toLowerCase()))||((t=s.symbol)==null?void 0:t.toLowerCase().includes(c.toLowerCase())))??!1}).sort((s,a)=>{const t=s[l.key],i=a[l.key];return t==null?1:i==null?-1:typeof t=="string"&&typeof i=="string"?l.direction==="asc"?t.localeCompare(i):i.localeCompare(t):l.direction==="asc"?Number(t)-Number(i):Number(i)-Number(t)}),u=r*x,f=u-x,T=o.slice(f,u),n=Math.ceil(o.length/x),g=({column:s})=>e.jsx("span",{className:"ml-1 inline-block",children:l.key===s?l.direction==="asc"?"↑":"↓":"↕"}),S=()=>{let a=[];return n<=5?a=Array.from({length:n},(t,i)=>i+1):r<=3?a=[1,2,3,4,"...",n]:r>=n-2?a=[1,"...",n-3,n-2,n-1,n]:a=[1,"...",r-1,r,r+1,"...",n],e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[e.jsx("button",{onClick:()=>m(r-1),disabled:r===1,className:`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium ${r===1?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"}`,children:"Previous"}),a.map((t,i)=>t==="..."?e.jsx("span",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-gray-700",children:"..."},`ellipsis-${i}`):e.jsx("button",{onClick:()=>m(t),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${r===t?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:t},t)),e.jsx("button",{onClick:()=>m(r+1),disabled:r===n,className:`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium ${r===n?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"}`,children:"Next"})]})};return j?e.jsx("div",{className:"flex justify-center items-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Trending Tokens"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Most trending tokens in the last 24 hours"})]}),p&&e.jsx("div",{className:"mb-6 bg-red-50 border-l-4 border-red-500 p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"h-5 w-5 text-red-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("p",{className:"text-sm text-red-700",children:p})]})}),e.jsx("div",{className:"mb-4",children:e.jsx("input",{type:"text",placeholder:"Search tokens...",className:"w-full md:w-64 px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:c,onChange:s=>w(s.target.value)})}),e.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>h("name"),children:["Token ",e.jsx(g,{column:"name"})]}),e.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>h("address"),children:["Address ",e.jsx(g,{column:"address"})]}),e.jsxs("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>h("decimals"),children:["Decimals ",e.jsx(g,{column:"decimals"})]}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:T.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:s.name}),e.jsx("div",{className:"text-sm text-gray-500",children:s.symbol})]})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:s.address})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsx("div",{className:"text-sm text-gray-900",children:s.decimals})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsx(L,{to:`/tokens/add?address=${s.address}`,className:"inline-flex items-center px-3 py-1 border border-blue-600 text-sm font-medium rounded-md text-blue-600 hover:bg-blue-50",children:"Add Token"})})]},s.address))})]})}),e.jsx("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",e.jsx("span",{className:"font-medium",children:f+1})," to"," ",e.jsx("span",{className:"font-medium",children:Math.min(u,o.length)})," ","of ",e.jsx("span",{className:"font-medium",children:o.length})," results"]})}),e.jsx("div",{children:e.jsx(S,{})})]})})]})]})}export{z as default};
//# sourceMappingURL=TrendingTokens-63b0e558.js.map
