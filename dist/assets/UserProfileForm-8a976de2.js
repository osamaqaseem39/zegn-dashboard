import{j as e}from"./ui-vendor-5f254887.js";import{u as B,j as T,r as m}from"./react-vendor-7917a9ce.js";import{F as U,T as D}from"./TextArea-485b36f0.js";import{I as l}from"./InputField-fcec1338.js";import{S as g}from"./SelectField-33f591af.js";import{C as b}from"./Checkbox-d2a0a2fe.js";import{c as y}from"./main-d9b0538d.js";import{C as M,c as A}from"./card-39566bda.js";import{B as z}from"./badge-e351bbbd.js";import{c as d}from"./check-75fcf2f7.js";import{C as F}from"./calendar-5fb274a3.js";import"./cn-7854a74b.js";import"./utils-vendor-37919bfd.js";import"./helmet-vendor-3ee5617c.js";const L=d("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),O=d("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),I=d("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),N=d("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),ee=()=>{const h=B(),{userId:j}=T(),[v,c]=m.useState(!1),[i,C]=m.useState(null),[t,u]=m.useState({firstName:"",lastName:"",email:"",phone:"",address:"",bio:"",dateOfBirth:"",notifications:{email:!0,push:!0,sms:!1},preferences:{language:"en",timezone:"UTC",currency:"USD"}}),o=!!j;m.useEffect(()=>{o&&k()},[j]);const k=async()=>{try{c(!0);const a=await y.getProfile();C(a),u({firstName:a.firstName||"",lastName:a.lastName||"",email:a.email,phone:"",address:"",bio:"",dateOfBirth:"",notifications:{email:!0,push:!0,sms:!1},preferences:{language:"en",timezone:"UTC",currency:"USD"}})}catch(a){console.error("Failed to load user data:",a)}finally{c(!1)}},s=(a,r)=>{u(f=>({...f,[a]:r}))},n=(a,r,f)=>{u(x=>{const p=x[a];return typeof p=="object"&&p!==null?{...x,[a]:{...p,[r]:f}}:x})},S=async a=>{a.preventDefault();try{c(!0);const r={firstName:t.firstName,lastName:t.lastName};o&&await y.updateProfile(r),h("/users")}catch(r){console.error("Failed to save user profile:",r)}finally{c(!1)}},w=[{value:"en",label:"English"},{value:"es",label:"Spanish"},{value:"fr",label:"French"},{value:"de",label:"German"},{value:"it",label:"Italian"}],E=[{value:"UTC",label:"UTC"},{value:"EST",label:"Eastern Time"},{value:"CST",label:"Central Time"},{value:"MST",label:"Mountain Time"},{value:"PST",label:"Pacific Time"}],P=[{value:"USD",label:"US Dollar ($)"},{value:"EUR",label:"Euro (€)"},{value:"GBP",label:"British Pound (£)"},{value:"JPY",label:"Japanese Yen (¥)"},{value:"CAD",label:"Canadian Dollar (C$)"}];return e.jsx(U,{title:"User Profile",subtitle:o?"Update user information and preferences":"Create new user profile",onSubmit:S,onCancel:()=>h("/users"),loading:v,variant:o?"edit":"create",showBackButton:!0,onBack:()=>h("/users"),children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(l,{label:"First Name",name:"firstName",value:t.firstName,onChange:a=>s("firstName",a.target.value),placeholder:"Enter first name",required:!0,icon:e.jsx(N,{className:"h-4 w-4"})}),e.jsx(l,{label:"Last Name",name:"lastName",value:t.lastName,onChange:a=>s("lastName",a.target.value),placeholder:"Enter last name",required:!0,icon:e.jsx(N,{className:"h-4 w-4"})}),e.jsx(l,{label:"Email Address",name:"email",type:"email",value:t.email,onChange:a=>s("email",a.target.value),placeholder:"Enter email address",required:!0,icon:e.jsx(L,{className:"h-4 w-4"})}),e.jsx(l,{label:"Phone Number",name:"phone",type:"tel",value:t.phone,onChange:a=>s("phone",a.target.value),placeholder:"Enter phone number",icon:e.jsx(I,{className:"h-4 w-4"})}),e.jsx(l,{label:"Date of Birth",name:"dateOfBirth",type:"date",value:t.dateOfBirth,onChange:a=>s("dateOfBirth",a.target.value),icon:e.jsx(F,{className:"h-4 w-4"})}),e.jsx(l,{label:"Address",name:"address",value:t.address,onChange:a=>s("address",a.target.value),placeholder:"Enter address",icon:e.jsx(O,{className:"h-4 w-4"})})]})]}),e.jsx("div",{children:e.jsx(D,{label:"Bio",name:"bio",value:t.bio,onChange:a=>s("bio",typeof a=="string"?a:a.target.value),placeholder:"Tell us about yourself...",rows:4,maxLength:500,hint:"Maximum 500 characters"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Preferences"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(g,{label:"Language",name:"language",value:t.preferences.language,onChange:a=>n("preferences","language",a.target.value),options:w,placeholder:"Select language"}),e.jsx(g,{label:"Timezone",name:"timezone",value:t.preferences.timezone,onChange:a=>n("preferences","timezone",a.target.value),options:E,placeholder:"Select timezone"}),e.jsx(g,{label:"Currency",name:"currency",value:t.preferences.currency,onChange:a=>n("preferences","currency",a.target.value),options:P,placeholder:"Select currency"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Notification Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(b,{label:"Email Notifications",name:"emailNotifications",checked:t.notifications.email,onChange:a=>n("notifications","email",typeof a=="boolean"?a:a.target.checked),hint:"Receive notifications via email"}),e.jsx(b,{label:"Push Notifications",name:"pushNotifications",checked:t.notifications.push,onChange:a=>n("notifications","push",typeof a=="boolean"?a:a.target.checked),hint:"Receive push notifications in the app"}),e.jsx(b,{label:"SMS Notifications",name:"smsNotifications",checked:t.notifications.sms,onChange:a=>n("notifications","sms",typeof a=="boolean"?a:a.target.checked),hint:"Receive notifications via SMS"})]})]}),o&&i&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Account Status"}),e.jsx(M,{children:e.jsx(A,{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email Verification"}),e.jsx(z,{variant:i.isEmailVerified?"default":"secondary",children:i.isEmailVerified?"Verified":"Pending"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Account Balance"}),e.jsxs("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:["$",i.balance.toFixed(2)]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Member Since"}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:new Date(i.createdAt).toLocaleDateString()})]})]}),e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Referral Code"}),e.jsx("span",{className:"text-sm font-mono text-brand-600 dark:text-brand-400",children:i.referralCode||"N/A"})]})})]})})})]})]})})};export{ee as default};
//# sourceMappingURL=UserProfileForm-8a976de2.js.map
